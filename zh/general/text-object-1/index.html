<!doctype html><html lang=zh class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.71.1"><meta name=description content="Lean & mean spacemacs-ish Vim distribution"><meta name=author content="liuchengxu"><link rel=icon href=/space-vim-doc/images/favicon.png type=image/png><title>文本对象（1） :: space-vim 文档</title><link href=/space-vim-doc/css/nucleus.css?1594596111 rel=stylesheet><link href=/space-vim-doc/css/fontawesome-all.min.css?1594596111 rel=stylesheet><link href=/space-vim-doc/css/hybrid.css?1594596111 rel=stylesheet><link href=/space-vim-doc/css/featherlight.min.css?1594596111 rel=stylesheet><link href=/space-vim-doc/css/perfect-scrollbar.min.css?1594596111 rel=stylesheet><link href=/space-vim-doc/css/auto-complete.css?1594596111 rel=stylesheet><link href=/space-vim-doc/css/atom-one-dark-reasonable.css?1594596111 rel=stylesheet><link href=/space-vim-doc/css/theme.css?1594596111 rel=stylesheet><link href=/space-vim-doc/css/hugo-theme.css?1594596111 rel=stylesheet><script src=/space-vim-doc/js/jquery-3.3.1.min.js?1594596111></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/space-vim-doc/zh/general/text-object-1/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=https://github.com/liuchengxu/space-vim><img src=https://raw.githubusercontent.com/liuchengxu/img/master/space-vim-doc/space-vim.gif></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/space-vim-doc/js/lunr.min.js?1594596111></script><script type=text/javascript src=/space-vim-doc/js/auto-complete.js?1594596111></script><script type=text/javascript>var baseurl="https:\/\/liuchengxu.github.io\/space-vim-doc\/\/zh";</script><script type=text/javascript src=/space-vim-doc/js/search.js?1594596111></script></div><div class=highlightable><ul class=topics><li data-nav-id=/space-vim-doc/zh/basics/ title=基本篇 class=dd-item><a href=/space-vim-doc/zh/basics/><b>1. </b>基本篇</a><ul><li data-nav-id=/space-vim-doc/zh/basics/requirements/ title=安装准备 class=dd-item><a href=/space-vim-doc/zh/basics/requirements/>安装准备</a></li><li data-nav-id=/space-vim-doc/zh/basics/installation/ title=快速安装 class=dd-item><a href=/space-vim-doc/zh/basics/installation/>快速安装</a></li><li data-nav-id=/space-vim-doc/zh/basics/configuration/ title=定制配置 class=dd-item><a href=/space-vim-doc/zh/basics/configuration/>定制配置</a></li></ul></li><li data-nav-id=/space-vim-doc/zh/tutorial/ title=使用篇 class=dd-item><a href=/space-vim-doc/zh/tutorial/><b>2. </b>使用篇</a><ul><li data-nav-id=/space-vim-doc/zh/tutorial/space-vim/ title=space-vim class=dd-item><a href=/space-vim-doc/zh/tutorial/space-vim/>space-vim</a><ul><li data-nav-id=/space-vim-doc/zh/tutorial/space-vim/buffer/ title=缓冲区 class=dd-item><a href=/space-vim-doc/zh/tutorial/space-vim/buffer/>缓冲区</a></li><li data-nav-id=/space-vim-doc/zh/tutorial/space-vim/window/ title=窗口 class=dd-item><a href=/space-vim-doc/zh/tutorial/space-vim/window/>窗口</a></li><li data-nav-id=/space-vim-doc/zh/tutorial/space-vim/navigation/ title=导航 class=dd-item><a href=/space-vim-doc/zh/tutorial/space-vim/navigation/>导航</a></li><li data-nav-id=/space-vim-doc/zh/tutorial/space-vim/misc/ title=其他 class=dd-item><a href=/space-vim-doc/zh/tutorial/space-vim/misc/>其他</a></li></ul></li></ul></li><li data-nav-id=/space-vim-doc/zh/general/ title=杂文 class="dd-item
parent"><a href=/space-vim-doc/zh/general/><b>3. </b>杂文</a><ul><li data-nav-id=/space-vim-doc/zh/general/tips/ title="Vim 小知识点" class=dd-item><a href=/space-vim-doc/zh/general/tips/>Vim 小知识点</a></li><li data-nav-id=/space-vim-doc/zh/general/plugin-manager/ title="Vim 插件管理器概览" class=dd-item><a href=/space-vim-doc/zh/general/plugin-manager/>Vim 插件管理器概览</a></li><li data-nav-id=/space-vim-doc/zh/general/text-object-1/ title=文本对象（1） class="dd-item
parent
active"><a href=/space-vim-doc/zh/general/text-object-1/>文本对象（1）</a></li><li data-nav-id=/space-vim-doc/zh/general/text-object-2/ title=文本对象（2） class=dd-item><a href=/space-vim-doc/zh/general/text-object-2/>文本对象（2）</a></li></ul></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://github.com/liuchengxu/space-vim><i class="fa fa-github"></i>Github</a></li><li><a class=padding href=https://liuchengxu.github.io/zh/space-vim-doc/screenshots><i class="fa fa-camera"></i>运行截图</a></li><li><a class=padding href=https://liuchengxu.github.io/zh/space-vim-doc/credits><i class="fa fa-bullhorn"></i>致谢</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value;">
<option id=zh value=https://liuchengxu.github.io/space-vim-doc/zh/general/text-object-1/ selected>中文</option></select><svg id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li></ul></section><section id=footer><center><a class=github-button href=https://github.com/liuchengxu/space-vim data-icon=octicon-star data-show-count=true aria-label="Star matcornic/hugo-theme-learn on GitHub">Star</a>
<a class=github-button href=https://github.com/liuchengxu/space-vim/fork data-icon=octicon-repo-forked data-show-count=true aria-label="Fork matcornic/hugo-theme-learn on GitHub">Fork</a><br><a class=github-button href=https://github.com/liuchengxu/space-vim/archive/master.zip data-icon=octicon-cloud-download aria-label="Download matcornic/hugo-theme-learn on GitHub">Download</a></center>
<script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title="Edit this page" href=https://github.com/liuchengxu/space-vim-doc/tree/master/content/general/text-object-1/_index.zh.md target=blank><i class="fas fa-code-branch"></i><span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=/space-vim-doc/zh/>space-vim</a> > <a href=/space-vim-doc/zh/general/>杂文</a> > 文本对象（1）</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#一个编辑命令的结构>一个编辑命令的结构</a></li><li><a href=#普通文本对象>普通文本对象</a><ul><li><a href=#词>词</a></li><li><a href=#句子>句子</a></li><li><a href=#段落>段落</a></li></ul></li><li><a href=#移动命令-vs-文本对象命令>移动命令 vs. 文本对象命令</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>文本对象（1）</h1><p>本文还是介绍一些基本内容, 关于插件使用, 可以查看完整配置 <a href=https://github.com/liuchengxu/space-vim>space-vim</a>.</p><hr><p>如果想要在 Vim 里拥有高效编辑的能力, 必然要掌握超过单个字符编辑的能力, 不然就可能出现像之前看到过的一个笑话 :</p><blockquote><p>在你刚开始使用 Vim 的时候做过什么令你 “难忘” 的事情? 答: 使用
j 跳转到 5000 行 :).</p></blockquote><p>也就是说, 要掌握词 (word), 句子 (sentense), 段落 (paragraph) 级别的编辑能力. 在 Vim 里, 这样的概念叫做 <strong>文本对象 (text objects)</strong> . 详见 Vim 的 help <code>:h text-objects</code>. 另外, 这些概念对于只是对英文表现比较好, 因为英文可以按照空格划分词, 但是中文并不可以.</p><p>本文的内容实际很多来自 Vim 的 help. 如果开始知道不懂的时候去查看 Vim 的 help, 基本上也就真正知道如何学习 Vim 了.</p><p>对于普通文本文件和常见程序语言结构, Vim 都提供了文本对象. 你可以通过 Vim script 定义新的文本对象.</p><h2 id=一个编辑命令的结构>一个编辑命令的结构</h2><p>在 Vim 中, 编辑命令 (editing commands) 有着如下的结构:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-viml data-lang=viml>&lt;<span style=color:#a6e22e>number</span>&gt; &lt;<span style=color:#a6e22e>operator</span>&gt; &lt;<span style=color:#a6e22e>text</span> <span style=color:#a6e22e>object</span> <span style=color:#a6e22e>or</span> <span style=color:#a6e22e>motion</span>&gt;<span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span>&lt;<span style=color:#a6e22e>数字</span>&gt; &lt;<span style=color:#a6e22e>操作符</span>&gt; &lt;<span style=color:#a6e22e>文本对象或移动命令</span>&gt;<span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><p><strong>number:</strong> 数字用于在文本对象或移动操作上进行多次执行, 比如说, 向后 3 个单词, 向前 2 个段落. 数字是可选的, 可以出现命令(command) 的前面，也可以放在命令的后面.</p><blockquote><p>If the motion includes a count and the operator also had a count before it, the two counts are multiplied. For example: &ldquo;2d3w&rdquo; deletes six words.</p></blockquote><p>如果是 motion 和下面所提到的 operator 都有数字修饰, 那么效果是两个数字相乘. 比如, <code>2d3w</code> 是删除 6 个单词.</p><p><strong>operator:</strong> 操作符, 比如, change, delete (删除), yank (复制). 操作符也是可选的. 但是如果没有操作符的话, 那么就只剩一个移动命令, 而非一个编辑命令了.</p><p>见 <code>:h operator</code>, Vim 默认提供的 operator 有:</p><p><img src=http://upload-images.jianshu.io/upload_images/127313-f73fb0d05fb0964d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240 alt=operator></p><p><strong>text object</strong> 或者 <strong>motion</strong> 可以是一个文本对象, 比如, 一个单词, 一个句子, 一个段落, 或者是一个移动, 比如, 向下移动一行, 向后翻一页, 到一行末尾.</p><p><code>:h text-objects</code> :
<img src=http://upload-images.jianshu.io/upload_images/127313-fd348538221b6d5c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240 alt=text-objects></p><p><code>:h motion</code> :
<img src=http://upload-images.jianshu.io/upload_images/127313-093f9b2636700dba.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240 alt=motion></p><p>一个<strong>编辑命令(editing command)</strong> 等于一个操作符加上一个文本对象或者移动, 比如, 删除一个单词, 改变一个句子, 复制一个段落.</p><blockquote><p><code>an editing command</code> = <code>an operator</code> + <code>a text object/motion</code></p></blockquote><h2 id=普通文本对象>普通文本对象</h2><p>Vim 为普通文本文件提供了三种类型的文本对象: 词(word), 句子(sentence), 段落(paragraph).</p><h3 id=词>词</h3><ul><li>aw - a word (包含在周围的空格)</li><li>iw - inner word (<strong>不</strong>包括周围的空格)</li></ul><pre><code>Lorem ipsum dolor sit amet...
</code></pre><p><code>daw</code></p><pre><code>Lorem dolor sit amet...
</code></pre><p>以 <code>a</code> 开头的文本对象包含周围的空格, 以 <code>i</code> 开头的文本对象不包含. 这个原则对所有的文本对象都适用.</p><p><code>w</code> 看起来与 <code>aw</code> 效果差不多. 区别在于光标位置. 比如, 如果用 <code>dw</code> 来删除一个词, 光标必须在词的开头. 如果在除了开头的其他位置使用 <code>dw</code>, 只能删除部分单词. 但是, <code>daw</code> 允许光标在一个词的任何位置删除整个单词.</p><p><img src=http://upload-images.jianshu.io/upload_images/127313-b5fa27011f4ddd1d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240 alt="w & aw"></p><p>如果你已经懂得了 word 的 w 与 aw 的区别, 下面句子与段落就已经掌握了, 道理是一样的, 只是将 w 换成了 s 与 p.</p><h3 id=句子>句子</h3><ul><li>as &ndash; a sentence</li><li>is &ndash; inner sentence</li></ul><pre><code>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt
ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis
nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
</code></pre><p><code>cis</code></p><pre><code> Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris
nisi ut aliquip ex ea commodo consequat.
</code></pre><p>注意, &ldquo;inner&rdquo; 文本对象<strong>不包含</strong>尾部的空格.</p><h3 id=段落>段落</h3><ul><li>ap &ndash; a paragraph</li><li>ip &ndash; inner paragraph</li></ul><pre><code>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis
nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.

Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt
mollit anim id est laborum.
</code></pre><p><code>dap</code></p><pre><code>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt
mollit anim id est laborum.
</code></pre><h2 id=移动命令-vs-文本对象命令>移动命令 vs. 文本对象命令</h2><ul><li>一个使用移动的命令, 比如, <code>cw</code>, 是从光标处开始生效.</li><li>一个使用文本对象的命令, 比如, <code>ciw</code>, 如果光标在何处, Vim 都将在整个文本对象上生效.</li></ul><p>是一个移动命令还是一个文本对象命令, 区别在于是否有 a (around) 或者 i (inner) 这样的限制. 对于每个类型的文本对象都是如此. 尽管使用文本对象的方式需要多输入一个字符, 但是这可以节省你的时间将光标移动到 &ldquo;正确&rdquo; 的位置.</p><p>参考:
[1] <a href=http://blog.carbonfive.com/2011/10/17/vim-text-objects-the-definitive-guide/>Vim Text Objects: The Definitive Guide</a></p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/space-vim-doc/zh/general/plugin-manager/ title="Vim 插件管理器概览"><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=/space-vim-doc/zh/general/text-object-2/ title=文本对象（2） style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/space-vim-doc/js/clipboard.min.js?1594596111></script><script src=/space-vim-doc/js/perfect-scrollbar.min.js?1594596111></script><script src=/space-vim-doc/js/perfect-scrollbar.jquery.min.js?1594596111></script><script src=/space-vim-doc/js/jquery.sticky.js?1594596111></script><script src=/space-vim-doc/js/featherlight.min.js?1594596111></script><script src=/space-vim-doc/js/highlight.pack.js?1594596111></script><script>hljs.initHighlightingOnLoad();</script><script src=/space-vim-doc/js/modernizr.custom-3.6.0.js?1594596111></script><script src=/space-vim-doc/js/learn.js?1594596111></script><script src=/space-vim-doc/js/hugo-learn.js?1594596111></script><link href=/space-vim-doc/mermaid/mermaid.css?1594596111 rel=stylesheet><script src=/space-vim-doc/mermaid/mermaid.js?1594596111></script><script>mermaid.initialize({startOnLoad:true});</script></body></html>